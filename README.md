# Telegram搬运机器人 (csbybot)

一个功能强大的Telegram消息搬运机器人，支持多频道消息克隆、实时监听、断点续传等功能。

## 🌟 主要功能

- **多频道克隆**: 支持多个源频道到目标频道的消息搬运
- **实时监听**: 自动监听源频道新消息并实时搬运
- **断点续传**: 支持任务中断后从断点继续执行
- **并发处理**: 多任务并发执行，提升搬运效率
- **重复检测**: SHA256内容指纹去重，避免重复搬运
- **权限管理**: 完善的用户权限和配置管理
- **任务监控**: 实时任务状态监控和进度显示

## 🚀 快速开始

### 1. 环境要求
- Python 3.7+
- Telegram API密钥 (API_ID, API_HASH, BOT_TOKEN)

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 配置机器人
在 `config.py` 中设置您的API密钥：
```python
API_ID = "你的API_ID"
API_HASH = "你的API_HASH"
BOT_TOKEN = "你的机器人Token"
```

### 4. 运行机器人
```bash
python csmain.py
```

## 📋 使用方法

### 基本命令
- `/start` - 启动机器人
- `/clone` - 开始克隆任务
- `/manage` - 管理频道配置
- `/tasks` - 查看任务状态
- `/history` - 查看历史记录
- `/config` - 查看配置信息

### 克隆任务
1. 使用 `/clone` 命令
2. 选择源频道和目标频道
3. 设置消息ID范围
4. 开始搬运任务

## 🔧 部署到云服务

### 免费云部署方案
- **Railway** (推荐): 每月500小时免费
- **Render**: 每月750小时免费  
- **Heroku**: 每月550小时免费

### 部署步骤
1. 将代码上传到GitHub
2. 使用云部署工具自动部署
3. 设置环境变量
4. 启动机器人

详细部署指南请参考 [deploy_guide.md](deploy_guide.md)

## 📁 项目结构

```
csbybot/
├── csmain.py              # 主程序文件
├── config.py              # 配置文件
├── requirements.txt        # 依赖包列表
├── Procfile               # 云部署启动命令
├── runtime.txt            # Python版本
├── .gitignore             # Git忽略文件
├── README.md              # 项目说明
├── deploy_guide.md        # 部署指南
├── github_upload.py       # GitHub上传工具
├── quick_deploy.py        # 快速部署工具
└── 备份/                  # 备份文件夹
```

## ⚠️ 重要提醒

### 安全注意事项
- **不要分享** API密钥和会话文件
- **不要上传** 包含敏感信息的配置文件
- 使用 `.gitignore` 保护敏感文件

### 使用限制
- 遵守Telegram API使用规范
- 避免频繁请求导致限流
- 合理设置并发数量

## 🆘 故障排除

### 常见问题
1. **机器人不响应**: 检查API密钥和网络连接
2. **任务失败**: 查看日志文件了解错误原因
3. **权限错误**: 确认机器人已加入相关频道

### 获取帮助
- 查看错误日志文件
- 检查配置文件设置
- 验证API密钥有效性

## 📊 性能统计

- 支持最多4个并发任务
- 智能错峰启动避免API限流
- 自动重试和错误恢复
- 实时进度监控和状态更新

## 🔄 更新日志

### v2.0 (当前版本)
- 新增并发处理引擎
- 改进断点续传功能
- 优化任务监控界面
- 增强错误处理机制

### v1.0
- 基础消息搬运功能
- 单任务处理
- 基本配置管理

## 📄 许可证

本项目仅供学习和研究使用，请遵守相关法律法规和平台规则。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目。

---

**项目状态**: 稳定运行  
**最后更新**: 2025-08-17  
**维护者**: csbybot团队
